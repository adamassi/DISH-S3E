<mujocoinclude>
<!-- =================================================
    Copyright 2019 Vikash Kumar
    Model   :: dishwasher (MuJoCoV2.0)
    Author  :: Vikash Kumar (vikashplus@gmail.com), Michael Wu (michael50wu@gmail.com)
    Details :: https://github.com/vikashplus/furniture_sim
    License :: Under Apache License, Version 2.0 (the "License"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.
====================================================== -©vk©-->

    <!-- Main dishwasher body -->
    <body name="dishwasher" pos="0 0 0" childclass="viz_dishwasher">
        <!-- Dishwasher mesh for visualization -->
        <geom type="mesh" mesh="ktc_dishwasher" euler="1.57 0 0"/>

        <!-- Top panel of the dishwasher -->
        <geom type="box" pos="0 0.312 .756" size=".290 .310 .031" class="col"/>  <!-- top -->

        <!-- Bottom panel of the dishwasher -->
        <geom type="box" pos="0 0.312 .055" size=".290 .310 .055" class="col"/> <!-- bottom -->

        <!-- Left side panel of the dishwasher -->
        <geom type="box" pos="0.26 0.312 .378" size=".031 .310 .378" class="col"/> <!-- left -->

        <!-- Right side panel of the dishwasher -->
        <geom type="box" pos="-.26 0.312 .378" size=".031 .310 .378" class="col"/> <!-- right -->

        <!-- Back panel of the dishwasher -->
        <geom type="box" pos="0 0.071 .378" size=".290 .0710 .378" class="col"/> <!-- back -->

        <!-- Uncomment this section for the bottom rack -->
        
        <!-- <body name="bottom_rack" pos="0 0.225 -0.375">
            <inertial pos="0 0 0" mass="2" diaginertia="1 1 1" />
            <joint name="bottom_rack" pos="0 0 0" axis="0 0 -1" type="slide" limited="true" range="0 0.274" damping="0.01" frictionloss="0.01" />
            <geom type="mesh" mesh="ktc_dishwasher_rack" euler="1.57 0 0" contype="0" conaffinity="0"/>
        </body> -->

        
        <body name="bottom_rack" pos="0 0.375 0.225">
            <inertial pos="0 0 0" mass="2" diaginertia="1 1 1" />
            <joint name="bottom_rack" pos="0 0 0" axis="0 1 0" type="slide" limited="true" range="0 0.274" damping="0.01" frictionloss="0.01" />
            
            <!-- Visual mesh -->
            <geom type="mesh" mesh="ktc_dishwasher_rack" euler="1.57 0 0" contype="0" conaffinity="0"/>

            <!-- Collision geoms -->
            <!-- Flat base: wider and thicker -->
            <!-- <geom type="box" pos="0 0 -0.06" size="0.2 0.2 0.001" rgba="1 0 0 0.5" contype="1" conaffinity="1"/> -->
            <geom type="box" pos="-0.045 0 -0.06" size="0.155 0.2 0.001" rgba="1 1 0 0.5" contype="1" conaffinity="1"/>
            <geom type="box" pos="0.155 0 -0.06" size="0.045 0.2 0.001" rgba="1 0 1 0.5" contype="1" conaffinity="1"/>
            

            <geom type="box" pos="0.20 0 0.0" size="0.001 0.2 0.06" rgba="1 0 0 0.5" contype="1" conaffinity="1"/>
            <geom type="box" pos="-0.20 0 0.0" size="0.001 0.2 0.06" rgba="1 0 0 0.5" contype="1" conaffinity="1"/>
            

            <!-- Optional front/back rails -->
            <geom type="box" pos="0 0.20 0.0" size="0.20 0.001 0.06" rgba="1 0 0 0.5" contype="1" conaffinity="1"/>
            <geom type="box" pos="0 -0.20 0.0" size="0.20 0.001 0.06" rgba="1 0 0 0.5" contype="1" conaffinity="1"/>

            <!-- center rails-->
            <!-- <geom type="box" pos="-0.15 0 0" size="0.001 0.2 0.035" rgba="1 0 0 0.5" contype="1" conaffinity="1"/>
            <geom type="box" pos="-0.10 0 0" size="0.001 0.2 0.035" rgba="1 0 0 0.5" contype="1" conaffinity="1"/>
            <geom type="box" pos="-0.05 0 0" size="0.001 0.2 0.035" rgba="1 0 0 0.5" contype="1" conaffinity="1"/>

            <geom type="box" pos="0. 0 0" size="0.001 0.2 0.035" rgba="1 0 1 0.5" contype="1" conaffinity="1"/>
            <geom type="box" pos="0.03 0 0" size="0.001 0.2 0.035" rgba="1 1 0 0.5" contype="1" conaffinity="1"/>
            <geom type="box" pos="0.06 0 0" size="0.001 0.2 0.035" rgba="1 1 0 0.5" contype="1" conaffinity="1"/>
            <geom type="box" pos="0.09 0 0" size="0.001 0.2 0.035" rgba="1 1 0 1" contype="1" conaffinity="1"/>

             -->
            <!-- cups -->
            <geom type="box" pos="-0.1 0 -0.02" size="0.001 0.2 0.035" rgba="0.5 0.5 0.5 1" contype="1" conaffinity="1"/>
            <geom type="box" pos="0.0 0 -0.02" size="0.001 0.2 0.035" rgba="0.5 0.5 0.5 1" contype="1" conaffinity="1"/>
            
            <!-- spoons -->
            <geom type="box" pos="0 0 -0.02" size="0.001 0.2 0.035" rgba="0.5 0.5 0.5 1" contype="1" conaffinity="1"/>
            <geom type="box" pos="0.11 0 -0.02" size="0.001 0.2 0.035" rgba="0.5 0.5 0.5 1" contype="1" conaffinity="1"/>
            <geom type="box" pos="0.155 0 -0.02" size="0.001 0.2 0.035" rgba="0.5 0.5 0.5 1" contype="1" conaffinity="1"/>


            <!-- slots -->
            <geom type="box" pos="0.155 0.142 -0.02" size="0.045 0.002 0.035" rgba="0.5 0.5 0.5 1" contype="1" conaffinity="1"/>
            <geom type="box" pos="0.155 0.11 -0.02" size="0.045 0.002 0.035" rgba="0.5 0.5 0.5 1" contype="1" conaffinity="1"/>
            <geom type="box" pos="0.155 0.08 -0.02" size="0.045 0.002 0.035" rgba="0.5 0.5 0.5 1" contype="1" conaffinity="1"/>
            <geom type="box" pos="0.155 0.05 -0.02" size="0.045 0.002 0.035" rgba="0.5 0.5 0.5 1" contype="1" conaffinity="1"/>
            <geom type="box" pos="0.155 0.02 -0.02" size="0.045 0.002 0.035" rgba="0.5 0.5 0.5 1" contype="1" conaffinity="1"/>
            <geom type="box" pos="0.155 -0.01 -0.02" size="0.045 0.002 0.035" rgba="0.5 0.5 0.5 1" contype="1" conaffinity="1"/>
            <geom type="box" pos="0.155 -0.04 -0.02" size="0.045 0.002 0.035" rgba="0.5 0.5 0.5 1" contype="1" conaffinity="1"/>
            <geom type="box" pos="0.155 -0.075 -0.02" size="0.045 0.002 0.035" rgba="0.5 0.5 0.5 1" contype="1" conaffinity="1"/>
            <geom type="box" pos="0.155 -0.106 -0.02" size="0.045 0.002 0.035" rgba="0.5 0.5 0.5 1" contype="1" conaffinity="1"/>
            <geom type="box" pos="0.155 -0.137 -0.02" size="0.045 0.002 0.035" rgba="0.5 0.5 0.5 1" contype="1" conaffinity="1"/>
            <geom type="box" pos="0.155 -0.168 -0.02" size="0.045 0.002 0.035" rgba="0.5 0.5 0.5 1" contype="1" conaffinity="1"/>
            
            <!-- cups - -->
            <geom type="box" pos="-0.045 0.1 -0.02" size="0.1550 0.002 0.035" rgba="0.5 0.5 0.5 1" contype="1" conaffinity="1"/>
            <geom type="box" pos="-0.045 0 -0.02" size="0.1550 0.002 0.035" rgba="0.5 0.5 0.5 1" contype="1" conaffinity="1"/>
            <geom type="box" pos="-0.045 -0.1 -0.02" size="0.1550 0.002 0.035" rgba="0.5 0.5 0.5 1" contype="1" conaffinity="1"/>
            
        </body>
       

        <!-- Top rack of the dishwasher -->
        <body name="top_rack" pos="0 0.375 0.485">
            <inertial pos="0 0 0" mass="2" diaginertia="1 1 1" />
            <joint name="top_rack" pos="0 0 0" axis="0 1 0" type="slide" limited="true" range="0 0.274" damping="0.01" frictionloss="0.01" />
            
            <!-- Visual mesh (no collision) -->
            <geom name="top_rack_mesh" type="mesh" mesh="ktc_dishwasher_rack" euler="1.57 0 0" contype="0" conaffinity="0"/>

            <!-- Collision primitives: base and rails -->
            <!-- Flat base -->
            <geom name="top_rack_base" type="box" pos="0 0 -0.06" size="0.2 0.2 0.001" rgba="1 0 0 0.5" contype="1" conaffinity="1"/>

            <!-- Side rails -->
            <geom name="top_rack_left_rail" type="box" pos="0.20 0 0.0" size="0.001 0.2 0.06" rgba="1 0 0 0.5" contype="1" conaffinity="1"/>
            <geom name="top_rack_right_rail" type="box" pos="-0.20 0 0.0" size="0.001 0.2 0.06" rgba="1 0 0 0.5" contype="1" conaffinity="1"/>

            <!-- Center rails -->
            <geom name="top_rack_center_rail_1" type="box" pos="0.05 0 0.0" size="0.001 0.2 0.06" rgba="1 0 0 0.5" contype="1" conaffinity="1"/>
            <geom name="top_rack_center_rail_2" type="box" pos="-0.05 0 0.0" size="0.001 0.2 0.06" rgba="1 0 0 0.5" contype="1" conaffinity="1"/>

            <!-- Front/back rails -->
            <geom name="top_rack_front_rail" type="box" pos="0 0.20 0.0" size="0.20 0.001 0.06" rgba="1 0 0 0.5" contype="1" conaffinity="1"/>
            <geom name="top_rack_back_rail" type="box" pos="0 -0.20 0.0" size="0.20 0.001 0.06" rgba="1 0 0 0.5" contype="1" conaffinity="1"/>

            <!-- Slots -->
            <geom name="top_rack_slot_1" type="box" pos="0 0.174 -0.02" size="0.20 0.002 0.035" rgba="1 0 0 0.5" contype="1" conaffinity="1"/>
            <geom name="top_rack_slot_2" type="box" pos="0 0.142 -0.02" size="0.20 0.002 0.035" rgba="1 0 0 0.5" contype="1" conaffinity="1"/>
            <geom name="top_rack_slot_3" type="box" pos="0 0.11 -0.02" size="0.20 0.002 0.035" rgba="1 0 0 0.5" contype="1" conaffinity="1"/>
            <geom name="top_rack_slot_4" type="box" pos="0 0.08 -0.02" size="0.20 0.002 0.035" rgba="1 0 0 0.5" contype="1" conaffinity="1"/>
            <geom name="top_rack_slot_5" type="box" pos="0 0.05 -0.02" size="0.20 0.002 0.035" rgba="1 0 0 0.5" contype="1" conaffinity="1"/>
            <geom name="top_rack_slot_6" type="box" pos="0 0.02 -0.02" size="0.20 0.002 0.035" rgba="1 0 0 0.5" contype="1" conaffinity="1"/>
            <geom name="top_rack_slot_7" type="box" pos="0 -0.01 -0.02" size="0.20 0.002 0.035" rgba="1 0 0 0.5" contype="1" conaffinity="1"/>
            <geom name="top_rack_slot_8" type="box" pos="0 -0.04 -0.02" size="0.20 0.002 0.035" rgba="1 0 0 0.5" contype="1" conaffinity="1"/>
            <geom name="top_rack_slot_9" type="box" pos="0 -0.075 -0.02" size="0.20 0.002 0.035" rgba="1 0 0 0.5" contype="1" conaffinity="1"/>
            <geom name="top_rack_slot_10" type="box" pos="0 -0.106 -0.02" size="0.20 0.002 0.035" rgba="1 0 0 0.5" contype="1" conaffinity="1"/>
            <geom name="top_rack_slot_11" type="box" pos="0 -0.137 -0.02" size="0.20 0.002 0.035" rgba="1 0 0 0.5" contype="1" conaffinity="1"/>
            <geom name="top_rack_slot_12" type="box" pos="0 -0.168 -0.02" size="0.20 0.002 0.035" rgba="1 0 0 0.5" contype="1" conaffinity="1"/>
        </body>

        <!-- Door of the dishwasher -->
        <body name="door" pos="0 .622 0.05">
            <inertial pos="0 0 0" mass="2" diaginertia="1 1 1" />
            <joint name="door" axis="1 0 0" limited="true" range="-1.5 0" damping="0.01" frictionloss="0.01"/>

            <!-- Door mesh for visualization -->
            <geom type="mesh" mesh="ktc_dishwasher_door" mass="2" euler="1.57 0 0"/>

            <!-- Door components -->
            <geom type="box" pos="0 0.025 .37" size=".290 .010 .365" rgba=".1 .1 .1 1" />
            <geom type="capsule" pos="0 0.08 .625" size=".020 .260" euler="0 1.57 0"/>
            <geom type="capsule" pos="0.26 0.06 .625" size=".020 .020" euler="1.57 0 0"/>
            <geom type="capsule" pos="-.26 0.06 .625" size=".020 .020" euler="1.57 0 0"/>

            <!-- Door collision components -->
            <geom type="box" pos="0 0.013 .37" size=".290 .0210 .365" class="col"/>
            <geom type="capsule" pos="0 0.08 .625" size=".020 .260" euler="0 1.57 0" class="col"/>
            <geom type="capsule" pos="0.26 0.06 .625" size=".020 .020" euler="1.57 0 0" class="col"/>
            <geom type="capsule" pos="-.26 0.06 .625" size=".020 .020" euler="1.57 0 0" class="col"/>
        </body>
    </body>
</mujocoinclude>